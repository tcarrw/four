<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>four.plnt.earth — Begin</title>
<style>
  html, body {
    margin:0; padding:0;
    background:#f7f7f7;
    height:100%; width:100%;
    overflow:hidden;
    font-family:-apple-system, BlinkMacSystemFont, sans-serif;
    -webkit-tap-highlight-color:transparent;
  }

  .header {
    position:absolute;
    top:20px;
    left:50%;
    transform:translateX(-50%);
    font-size:15px;
    font-weight:500;
    letter-spacing:0.7px;
    color:rgba(0,0,0,0.55);
    user-select:none;
    pointer-events:none;
  }

  .root {
    position:relative;
    height:100vh;
    width:100%;
    display:flex;
    align-items:center;
    justify-content:center;
    transition:transform 1.4s ease-out;
  }

  #fieldLine {
    position:absolute;
    top:0; bottom:0; left:50%;
    width:1px;
    background:rgba(0,0,0,0.35);
    transform:translateX(-50%);
    opacity:0;
    transition:opacity 1.2s ease, width 1s ease-out;
  opacity 0.9s ease, width 0.7s ease-out;
  }

  .breath-expand {
    width:4px !important;
  }

  #videoWrap {
    opacity:0;
    pointer-events:none;
    width:100%;
    max-width:880px;
    padding:0 16px;
    transition:opacity 1.05s ease-out;
  }

  .video-visible {
    opacity:1 !important;
    pointer-events:auto !important;
  }

  .video-frame {
    position:relative;
    padding-bottom:56.25%;
    height:0;
  }

  .video-frame iframe {
    position:absolute;
    top:0; left:0;
    width:100%; height:100%;
    border:0;
    border-radius:18px;
    box-shadow:0 6px 28px rgba(0,0,0,0.22);
    overflow:hidden;
  }

  #vectorLine {
    position:fixed;
    bottom:0; left:0; right:0;
    height:1.5px;
    background:#d200ff;
    opacity:0;
    transition:opacity 0.45s linear;
  }

  .vector-live #vectorLine {
    opacity:1;
  }

  .reflection {
    position:absolute;
    top:24%;
    left:50%;
    transform:translateX(-50%);
    font-size:14px;
    color:rgba(0,0,0,0.30);
    opacity:0;
    transition:opacity 0.25s ease-out, color 0.25s linear;
    user-select:none;
    pointer-events:none;
  }
</style>
</head>

<body>
<div class="header">
  <!-- BEAT 0 (invisible orientation) -->
  <div style="display:none;">Before the first beat: choose the direction that feels simple and already yours.</div>
Four beats. One motion.</div>
<div class="root" id="root">

  <div class="reflection" id="reflection"></div>
  <div id="fieldLine" style="position:absolute; top:60px; left:0; right:0; height:0.2px; background:rgba(0,0,0,0.28); opacity:0; transition:opacity 0.9s ease, height 0.7s ease-out;"><\/div>

  <div id="videoWrap">
    <div class="video-frame">
      <iframe
        id="berghainVideo"
        src="https://www.youtube.com/embed/E7lr7pU9fYA?rel=0&showinfo=0&enablejsapi=1&loop=1&playlist=E7lr7pU9fYA"
        allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen>
      </iframe>
    </div>
  </div>

  <div id="vectorLine"></div>
</div>

<script>
// FINAL CLEAN SCRIPT — four.plnt.earth
// Fully rebuilt with correct timing map + clear beats + Option C

const fieldLine = document.getElementById('fieldLine');
const videoWrap = document.getElementById('videoWrap');
const root = document.getElementById('root');
const reflection = document.getElementById('reflection');

// --- Reflection ---
function showReflection(text, replay=true) {
  reflection.textContent = text;
  reflection.style.opacity = "1";

  if (replay) {
    setTimeout(() => { reflection.style.color = "rgba(0,0,0,0.36)"; }, 500);
    setTimeout(() => { reflection.style.color = "rgba(0,0,0,0.30)"; }, 900);
  }

  setTimeout(() => {
    reflection.style.opacity = "0";
  }, 1200);
}

// === BEAT 1 — STILLNESS ===
setTimeout(() => {
  fieldLine.style.opacity = "1";
  setTimeout(() => { fieldLine.style.opacity = "0"; }, 300);
}, 900);

setTimeout(() => {
  showReflection("Stillness", true);
}, 1200);

// === BEAT 2 — READINESS ===
setTimeout(() => {
  showReflection("Readiness", true);
  enableTap();
}, 2400);

// === BEAT 3 — INTENTION ===
function enableTap() {
  root.addEventListener('click', handleTap, { once:true });
}

function handleTap() {
  videoWrap.classList.add('video-visible');
  showReflection("Intention", true);
}

// === BEAT 4 — ALIGNMENT ===
window.addEventListener("message", function (event) {
  try {
    if (typeof event.data === "string" && event.data.includes('"playerState":1')) {
      activateVector();
    }
  } catch(e){}
});

function activateVector() {
  setTimeout(() => {
    showReflection("Alignment", true);
    root.style.transform = "perspective(900px) rotateX(3.6deg)";

    setTimeout(() => {
      root.style.transform = "none";
      // Add loop clarity reflection on each loop end
      showReflection("Clarity", true);
    }, 2000);

  }, 1000);
}, 2000);

  }, 1000);
}
</script>

<!--
CHOICE‑MAKING GUIDE (for Kendyl)

Step 1 — Check your body.
If you feel tight, braced, or rushed → pause.
If you feel steady, open, or neutral → proceed.

Step 2 — Ask the clarity question:
“Which option feels simple and true?”
Choose the one that feels obvious, not dramatic.

Step 3 — Ask the story question:
“Which option matches who I already am?”
Choose the one that fits naturally into your life, not the one that forces a jump.

Step 4 — Test the breath.
If your breath drops into place → yes.
If your breath goes shallow → no.

Step 5 — Don’t over-explain it.
The right choice feels clean.
The wrong choice feels complicated.

Step 6 — Move only when the answer feels settled.
Quiet clarity is the green light.
Noise is a red one.

PRIVATE NOTE FOR KENDYL
Hey — there’s no right answer you’re supposed to find.
You don’t have to try to impress anyone or become something new.
If you want to move, just choose the option that feels simple, steady, and already yours.
Your body will give you the signal before your mind does.
Everything else is noise.
Whenever you’re ready, the clean step will be obvious.
-->
</body>
</html>
